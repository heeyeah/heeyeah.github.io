{"componentChunkName":"component---src-templates-blog-post-js","path":"/cloud/2019-01-17-docker-get-started-3/","result":{"data":{"site":{"siteMetadata":{"title":"Heeye Blog","author":"heeye","siteUrl":"https://heeyeah.github.io","comment":{"disqusShortName":"","utterances":"heeyeah/heeyeah.github.io"},"sponsor":{"buyMeACoffeeId":"heeyeah"}}},"markdownRemark":{"id":"17439994-7311-55df-b3f1-891ecd96826e","excerpt":"About Service serviceëŠ” container > service > stack ì¤‘ì— serviceë¥¼ ë§í•˜ëŠ” ê²ƒì´ë‹¤. ë¶„ì‚°ëœ ì–´í”Œë¦¬ì¼€ì´ì…˜ì—ì„œ ê°ê¸° ë‹¤ë¥¸ ì•±ì¡°ê°ë“¤ì„ serviceë¼ í•œë‹¤. ì˜ˆë¥¼ ë“¤ì–´ video sharing siteê°€ ìˆë‹¤ê³  ê°€ì •í•˜ë©´, ì—¬ê¸´ ë°ì´í„°ë² ì´ìŠ¤ì— ì–´í”Œë¦¬ì¼€ì´ì…˜ì„ ì €ì¥í•˜ëŠ” ì„œë¹„ìŠ¤, ì‚¬ìš©ìê°€ ë­”ê°ˆ ì—…ë¡œë“œ í›„ ë°±ê·¸ë¼ìš´ë“œì—ì„œ video transcodingí•˜ëŠ” ì„œë¹„ìŠ¤, frontend ì„œë¹„ìŠ¤ ë“± ë§ì€ ê²ƒì´ í•©ì³ì ¸ìˆë‹¤. Service are really justâ€¦","html":"<h3 id=\"about-service\" style=\"position:relative;\"><a href=\"#about-service\" aria-label=\"about service permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>About Service</h3>\n<p>serviceëŠ” container > service > stack ì¤‘ì— serviceë¥¼ ë§í•˜ëŠ” ê²ƒì´ë‹¤. ë¶„ì‚°ëœ ì–´í”Œë¦¬ì¼€ì´ì…˜ì—ì„œ ê°ê¸° ë‹¤ë¥¸ ì•±ì¡°ê°ë“¤ì„ serviceë¼ í•œë‹¤. ì˜ˆë¥¼ ë“¤ì–´ video sharing siteê°€ ìˆë‹¤ê³  ê°€ì •í•˜ë©´, ì—¬ê¸´ ë°ì´í„°ë² ì´ìŠ¤ì— ì–´í”Œë¦¬ì¼€ì´ì…˜ì„ ì €ì¥í•˜ëŠ” ì„œë¹„ìŠ¤, ì‚¬ìš©ìê°€ ë­”ê°ˆ ì—…ë¡œë“œ í›„ ë°±ê·¸ë¼ìš´ë“œì—ì„œ video transcodingí•˜ëŠ” ì„œë¹„ìŠ¤, frontend ì„œë¹„ìŠ¤ ë“± ë§ì€ ê²ƒì´ í•©ì³ì ¸ìˆë‹¤. <del>Service are really just â€œcontainers in production.â€</del> ì„œë¹„ìŠ¤ëŠ” í•˜ë‚˜ì˜ ì´ë¯¸ì§€ë¥¼ ì‹¤í–‰ì‹œí‚¤ê³  ì´ë¯¸ì§€ê°€ ì–´ë–»ê²Œ runí•˜ëŠ”ì§€ ì½”ë””í•œë‹¤. service scalingì€ ì»¨í…Œì´ë„ˆ ìˆ˜ë¥¼ ë°”ê¾¸ëŠ”ê±°ë‹¤. scalingì€ docker platformì—ì„œ ë§¤ìš° ì‰¬ìš´ë°, <code class=\"language-text\">docker-compose.yml</code>ë§Œ ì‘ì„±í•˜ë©´ ëœë‹¤.</p>\n<h3 id=\"docker-composeyml-file\" style=\"position:relative;\"><a href=\"#docker-composeyml-file\" aria-label=\"docker composeyml file permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>docker-compose.yml file</h3>\n<p>ì•„ë¬´ë°ë‚˜ docker-compose.yml íŒŒì¼ ë§Œë“¤ì. ì´ ì„¤ì •íŒŒì¼ ë‚´ìš©ì„ ì½ê³  load-balancing í•œë‹¤. <strong>docker-compose.ymlì€ indentationì´ ì¤‘ìš”í•˜ê¸° ë•Œë¬¸ì—</strong> ë„ì›Œì“°ê¸° ì£¼ì˜í•´ì•¼ í•œë‹¤.</p>\n<h3 id=\"run-new-load-balanced-app\" style=\"position:relative;\"><a href=\"#run-new-load-balanced-app\" aria-label=\"run new load balanced app permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Run new load-balanced app</h3>\n<p>docker-compose.yml íŒŒì¼ì„ ì„¤ì •í•œ í›„ <code class=\"language-text\">docker swarm init</code> ì„ í•´ì£¼ë©´ swarm (load-balancing) ì´ ë™ì‘í•˜ê³ , <code class=\"language-text\">docker stack deploy -c docker-compose.yml getstartedlab</code> í•˜ë©´ appnameì„ <code class=\"language-text\">getstartedlab</code> ì´ë¼ê³  ì£¼ê²Œ ëœë‹¤. ì—¬ê¸°ì„œ docker-compose.ymlì„ ì°¸ê³ í•´ì„œ imageë¥¼ deployí•˜ëŠ”ë°, ë™ì‘ í›„ <code class=\"language-text\">docker service ls</code> ë¡œ í™•ì¸!</p>\n<h3 id=\"ì‹ ê¸°í•œê²Œ\" style=\"position:relative;\"><a href=\"#%EC%8B%A0%EA%B8%B0%ED%95%9C%EA%B2%8C\" aria-label=\"ì‹ ê¸°í•œê²Œ permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>ì‹ ê¸°í•œê²Œ</h3>\n<p>ë˜‘ê°™ì€ urlì¸ <code class=\"language-text\">localhost:4000</code> ì„ ë„ì› ì„ ë•Œ swarm inití•´ì„œ container 5ê°œë¡œ ì„œë¹„ìŠ¤í•œ ì´ë¯¸ì§€ëŠ” hostnameì´ ê³„ì† ë°”ë€ë‹¤. <code class=\"language-text\">docker container ls -q</code> ì—ì„œ ë¦¬ìŠ¤íŠ¸ì—…ëœ container IDSë“¤ì´ ëœ¬ë‹¤. ì´ê²Œ load-balancingì¸ë° ê° ìš”ì²­ì— 5ê°œì˜ íƒœìŠ¤í¬ ì¤‘ í•˜ë‚˜ê°€ round-robin ë°©ì‹ìœ¼ë¡œ ì„ íƒë˜ê³  ì‘ë‹µì„ ì¤€ë‹¤.</p>\n<h3 id=\"scale-the-app\" style=\"position:relative;\"><a href=\"#scale-the-app\" aria-label=\"scale the app permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Scale the app</h3>\n<p>docker-compose.yml ì— replicase ìˆ˜ì •í•´ì„œ docker stack deploy ë‹¤ì‹œ í•˜ë©´ update ë˜ë©´ì„œ scale the app!</p>\n<h3 id=\"take-down-the-app-and-the-swarm\" style=\"position:relative;\"><a href=\"#take-down-the-app-and-the-swarm\" aria-label=\"take down the app and the swarm permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Take down the app and the swarm</h3>\n<p><code class=\"language-text\">docekr stack rm getstartedlab</code> &#x26;&#x26; <code class=\"language-text\">docker swarm leave --force</code></p>\n<h3 id=\"result\" style=\"position:relative;\"><a href=\"#result\" aria-label=\"result permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>resultğŸ˜„</h3>\n<p>ì„œë¹„ìŠ¤ëŠ” ì»¨í…Œì´ë„ˆì˜ ë™ì‘ì„ compose fileì— codifyí•˜ê³ , ì´ íŒŒì¼ì€ ì•±ì„ scale, limit, redeploy ì— ì‚¬ìš©ëœë‹¤.</p>","frontmatter":{"title":"[Docker] Docker Get Started ë”°ë¼í•˜ê¸° - 3","date":"January 21, 2019"}}},"pageContext":{"slug":"/cloud/2019-01-17-docker-get-started-3/","previous":{"fields":{"slug":"/cloud/2019-01-17-docker-get-started-2/"},"frontmatter":{"title":"[Docker] Docker Get Started ë”°ë¼í•˜ê¸° - 2","category":"cloud","draft":false}},"next":{"fields":{"slug":"/cloud/2019-01-17-docker-get-started-4/"},"frontmatter":{"title":"[Docker] Docker Get Started ë”°ë¼í•˜ê¸° - 4","category":"cloud","draft":false}}}},"staticQueryHashes":["3128451518","521680639"]}