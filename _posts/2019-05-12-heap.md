---
layout: post
title: "[ìë£Œêµ¬ì¡°] í™ê³¼ ìš°ì„ ìˆœìœ„íì— ëŒ€í•˜ì—¬"
date: '2019-05-12 10:40:00'
author: Heeye
categories: DataStructure
tags: DataStructure heap PriorityQueue
---

#### í™?
í™(heap)ì€ ìµœëŒ“ê°’ ë° ìµœì†Ÿê°’ì„ ì°¾ì•„ë‚´ëŠ” ì—°ì‚°ì„ ë¹ ë¥´ê²Œ í•˜ê¸° ìœ„í•´ ê³ ì•ˆëœ ì™„ì „ì´ì§„íŠ¸ë¦¬(complete binary tree)ë¥¼ ê¸°ë³¸ìœ¼ë¡œ í•œ ìë£Œêµ¬ì¡°(tree-based structure)ë¡œì„œ ë‹¤ìŒê³¼ ê°™ì€ í™ ì†ì„±(property)ì„ ë§Œì¡±í•œë‹¤.

- Aê°€ Bì˜ ë¶€ëª¨ë…¸ë“œ(parent node) ì´ë©´, Aì˜ í‚¤(key)ê°’ê³¼ Bì˜ í‚¤ê°’ ì‚¬ì´ì—ëŠ” ëŒ€ì†Œê´€ê³„ê°€ ì„±ë¦½í•œë‹¤.
- í™ì—ëŠ” ë‘ê°€ì§€ ì¢…ë¥˜ê°€ ìˆìœ¼ë©°, ë¶€ëª¨ë…¸ë“œì˜ í‚¤ê°’ì´ ìì‹ë…¸ë“œì˜ í‚¤ê°’ë³´ë‹¤ í•­ìƒ í° í™ì„ 'ìµœëŒ€ í™', ë¶€ëª¨ë…¸ë“œì˜ í‚¤ê°’ì´ ìì‹ë…¸ë“œì˜ í‚¤ê°’ë³´ë‹¤ í•­ìƒ ì‘ì€ í™ì„ 'ìµœì†Œ í™'ì´ë¼ê³  ë¶€ë¥¸ë‹¤.
- í‚¤ê°’ì˜ ëŒ€ì†Œê´€ê³„ëŠ” ì˜¤ë¡œì§€ ë¶€ëª¨ë…¸ë“œì™€ ìì‹ë…¸ë“œ ê°„ì—ë§Œ ì„±ë¦½í•˜ë©°, íŠ¹íˆ í˜•ì œ ì‚¬ì´ì—ëŠ” ëŒ€ì†Œê´€ê³„ê°€ ì •í•´ì§€ì§€ ì•ŠëŠ”ë‹¤.
- ê° ë…¸ë“œì˜ ìì‹ë…¸ë“œì˜ ìµœëŒ€ê°œìˆ˜ëŠ” í™ì˜ ì¢…ë¥˜ì— ë”°ë¼ ë‹¤ë¥´ì§€ë§Œ, ëŒ€ë¶€ë¶„ì˜ ê²½ìš°ëŠ” ìì‹ë…¸ë“œì˜ ê°œìˆ˜ê°€ ìµœëŒ€ 2ê°œì¸ ì´ì§„ í™(binary heap)ì„ ì‚¬ìš©í•œë‹¤.
- í™ì—ì„œëŠ” ê°€ì¥ ë†’ì€(í˜¹ì€ ê°€ì¥ ë‚®ì€) ìš°ì„ ìˆœìœ„ë¥¼ ê°€ì§€ëŠ” ë…¸ë“œê°€ í•­ìƒ ë¿Œë¦¬ë…¸ë“œì— ì˜¤ê²Œ ë˜ëŠ” íŠ¹ì§•ì´ ìˆìœ¼ë©°, ì´ë¥¼ ì‘ìš©í•˜ë©´ ìš°ì„ ìˆœìœ„ íì™€ ê°™ì€ ì¶”ìƒì  ìë£Œí˜•ì„ êµ¬í˜„í•  ìˆ˜ ìˆë‹¤.


* ìµœëŒ€ í™
``` java
algorithm upHeap(Position v):
   while (not isRoot(v)) and key(parent(v))>key(v) do
   {
     swapItems(v,parent(v));
     v<-parent(v);
   }
```
* ìµœì†Œ í™
``` java
algorithm downHeap(Position v):
   while not (isExternal(leftChild(v)) and isExternal(rightChild(v)) do
   {
   if isExternal(rightChild(v)) then v<-leftChild(v)
   else if key(leftChild(v))<=key(rightChild(v))
      then v<-leftChild(v) else v<-rightChild(v);
   if key(parent(v)) > key(v) then swapItems(v,parent(v))
      else break;
   }
```

* í™ì •ë ¬
ì •ë ¬ ì¤‘ì— selection, bubble, insertion sortëŠ” ê¸°ë³¸ìœ¼ë¡œ êµ¬í˜„í•  ì¤„ ì•Œì•„ì•¼ í•˜ê³ , quick sortì™€ heap sortê¹Œì§€ëŠ” í•´ë´ì•¼í•œë‹¤ê³  í•´ì„œ! :) ê·¼ë° ì–´ë µë‹¹. ì–´ë ¤ì›Œìš” ì–´ë ¤ì›¡ [í™ì •ë ¬ êµ¬í˜„](https://github.com/heeyeah/AlgorithmPractice/blob/master/HeeyeahNote/src/note/HeapSort.java)

#### ìš°ì„ ìˆœìœ„ í?

ì•Œê³ ë¦¬ì¦˜ì„ í’€ ë•Œ, ìµœëŒ“ê°’/ìµœì†Ÿê°’ì„ êµ¬í•˜ëŠ” ë¬¸ì œëŠ” heapì„ ì‚¬ìš©í•˜ë©´ ì¢‹ë‹¤ê³  í•œë‹¤.

heapì„ ë°°ì—´ì´ë‚˜ ë§í¬ë“œë¦¬ìŠ¤íŠ¸ë¡œ êµ¬í˜„í•´ì„œ í’€ì–´ë„ ì°¸ ì¢‹ê² ì§€ë§Œ, javaì˜ PriorityQueue APIë¥¼ ì¨ë„ ì°¸ ì¢‹ë‹¤â˜ºï¸

ì‚¬ì‹¤ í™ë¬¸ì œë¥¼ ë°°ì—´ë¡œ êµ¬í˜„í•´ì„œ í‘¸ëŠ” ì¤‘ì—, ìµœì†Œê°’ 2ê°œë¥¼ ì œê±°í•˜ê³  ê°’ì„ ì‚½ì… í›„ ì •ë ¬ì„ í•˜ëŠ”ë° ì •ë ¬ëœ ì›ì†Œë“¤ì„ ì•ìœ¼ë¡œ ë‹¹ê¸°ì§€ ì•Šìœ¼ë©´ root ì¸ë±ìŠ¤ê°€ ì™”ë‹¤ê°”ë‹¤í•´ì„œ ë°˜ë³µìˆ˜í–‰í•˜ê¸°ê°€ í˜ë“¤ì—ˆë‹¤.

**ìš°ì„ ìˆœìœ„ íëŠ” í™ì„ ë² ì´ìŠ¤ë¡œ í•˜ëŠ” ìë£Œêµ¬ì¡°** ë¼ëŠ” ê²ƒì„ ë³´ê³ , ìš°ì„ ìˆœìœ„ íì— ëŒ€í•´ ê°„ë‹¨íˆ ì •ë¦¬í•  ì˜ˆì •ì´ë‹¤.

ë‚œ ìë°”ë¥¼ ì‚¬ìš©í•˜ë‹ˆ, java.utilì— ìˆëŠ” PriorityQueueì— ëŒ€í•œ ì„¤ëª…ì„ ê°€ì ¸ì˜¨ë‹¤.


An unbounded priority queue based on a priority heap. The elements of the priority queue are ordered according to their natural ordering, or by a Comparator provided at queue construction time, depending on which constructor is used. A priority queue does not permit null elements.
...(ì¤‘ëµ)...
Note that this implementation is not synchronized. Multiple threads should not access a PriorityQueueinstance concurrently if any of the threads modifies the queue. Instead, use the thread-safe PriorityBlockingQueue class.

[ì¶œì²˜] https://docs.oracle.com/javase/8/docs/api/java/util/PriorityQueue.html


ê°„ë‹¨íˆ ìš”ì•½í•˜ìë©´
- ìš°ì„ ìˆœìœ„ íëŠ” ìš°ì„ ìˆœìœ„ í™ì„ ë² ì´ìŠ¤ì— ë‘ 
- ê° ì›ì†ŒëŠ” ì¼ë°˜ì ì¸ ordering ruleì´ë‚˜ í ìƒì„± ì‹œì ì— Comparatorì˜ êµ¬í˜„ì„ ë”°ë¦„
null elementë¥¼ í—ˆìš©í•˜ì§€ ì•ŠìŒ
- ì¼ë°˜ì ì¸ ordering ruleì„ ë”°ë¥´ê¸° ë•Œë¬¸ì— ë¹„êµí•  ìˆ˜ ì—†ëŠ” ê°ì²´ë¥¼ ì‚½ì…í•˜ë©´ ClassCastException ë˜ì§
- thread safeí•˜ì§€ ì•Šìœ¼ë‹ˆ, multiple threads í™˜ê²½ì—ì„œëŠ” PriorityBlockingQueueë¥¼ ì‚¬ìš©í•˜ë¼ëŠ” notice

ì´ ì™¸ì—ë„ ë‚´ìš©ì´ ë§ì§€ë§Œ, ìì„¸í•œê±´ ì¶œì²˜ë¥¼ ì°¸ê³ í•˜ì.
ê²°êµ­ í™ìœ¼ë¡œ ë§Œë“  ê±°ë‹ˆê¹Œ, í™ì„ ì‚¬ìš©í•  ìˆ˜ ìˆëŠ” ì•Œê³ ë¦¬ì¦˜ ë¬¸ì œì—ì„œ ì´ PriorityQueueë¥¼ ì‚¬ìš©í•´ì„œ í’€ë©´ ì¢€ ë” ê°„ë‹¨íˆ ë‹µì„ ë„ì¶œí•  ìˆ˜ ìˆì„ ê²ƒ ê°™ë‹¤ğŸ˜
