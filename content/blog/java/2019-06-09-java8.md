---

title: "Java8 íŠ¹ì§• ì •ë¦¬"
date: '2019-06-09 18:00:00'
category: java
draft: false
---


## Java8 íŠ¹ì§•

Java 8 provides following features for Java Programming:

- Lambda expressions *
- Method references *
- Functional interfaces *
- Stream API *
- Default methods *
- Static methods in interface *
- Optional class *
- Collectors class *
- ForEach() method *
- Parallel array sorting *
- Type and Repating Annotations
- Nashorn JavaScript Engine
- Base64 Encode Decode
- IO Enhancements
- Concurrency Enhancements
- JDBC Enhancements etc.

ê°„ë‹¨í•˜ê²Œ ì •ë¦¬í•˜ê³ ì í•œë‹¤.

### Lambda Expressions
ëŒë‹¤ì‹ì€ í•¨ìˆ˜ì ì¸ í‘œí˜„ì„ ì“¸ ìˆ˜ ìˆê²Œ ë„ì™€ì£¼ëŠ” í˜•ì‹ì´ë‹¤. ê°„ê²°í•˜ê²Œ í‘œí˜„ê°€ëŠ¥í•˜ë©°, anonymous functionì´ë¼ê³ ë„ í•  ìˆ˜ ìˆë‹¤.

``` java
package hee;

public class LambdaExpressions {

    public static void main(String[] args) {

        int width=10;

        //with lambda
        Drawable d2=()->{
            System.out.println("Drawing "+width);
        };
        d2.draw();
    }
}

@FunctionalInterface  //It is optional
interface Drawable{
    public void draw();
}
```

>Lambda expression helps us to write our code in functional style. It provides a clear and concise way to implement SAM interface(Single Abstract Method) by using an expression. It is very useful in collection library in which it helps to iterate, filter and extract data.


### Method References
ë©”ì†Œë“œ ë ˆí¼ëŸ°ìŠ¤ëŠ”
Reference to a static method.
Reference to an instance method.
Reference to a constructor.

3ê°œì˜ ê²½ìš°ì— ëŒ€í•´ ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤. ë©”ì†Œë“œ ë ˆí¼ëŸ°ìŠ¤ëŠ” ì´ë¯¸ ìš°ë¦¬ê°€ êµ¬í˜„í•˜ê³ ì í•˜ëŠ” ëŒë‹¤ì‹ ìì²´ê°€ êµ¬í˜„ë˜ì–´ìˆëŠ” ê²½ìš°ê°€ ìˆëŠ”ë° ì´ëŸ´ë•Œ ì‚¬ìš©í•˜ëŠ” ë©”ì„œë“œ ì°¸ì¡°ìš© íŠ¹ìˆ˜ ë¬¸ë²•ì„ **ë©”ì†Œë“œ ì°¸ì¡°** ë¼ê³  í‘œí˜„í•œë‹¤.

ìì£¼ì“°ëŠ” í‘œí˜„ì—ì„œëŠ” ì•„ë˜ì™€ ê°™ì€ ê²Œ ë©”ì†Œë“œ ë ˆí¼ëŸ°ìŠ¤ì´ë‹¤.

``` java
// Component::getValue - instance method ë ˆí¼ëŸ°ìŠ¤ ì‚¬ìš©
components.sort(Comparator.comparing(Component::getValue));
```

>Java 8 Method reference is used to refer method of functional interface . It is compact and easy form of lambda expression. Each time when you are using lambda expression to just referring a method, you can replace your lambda expression with method reference.


### Functional Interface
í•¨ìˆ˜í˜• ì¸í„°í˜ì´ìŠ¤ëŠ” `@FunctionalInterface` ë¥¼ ë¶™ì´ê¸¸ ê¶Œì¥í•œë‹¤. ì—¬ëŸ¬ ê°œì˜ abstract, default ë©”ì†Œë“œê°€ ìˆëŠ” ê±´ ìƒê´€ì—†ìœ¼ë‚˜ abstract methodëŠ” í•˜ë‚˜ì—¬ì•¼ í•œë‹¤.
>An Interface that contains only one abstract method is known as functional interface. It can have any number of default and static methods. It can also declare methods of object class.
Functional interfaces are also known as Single Abstract Method Interfaces (SAM Interfaces).

ìì£¼ ì‚¬ìš©í•˜ëŠ” ê²ƒ ì¤‘ì— function interfaceê°€ `Comparator` ì¸í„°í˜ì´ìŠ¤ê°€ ìˆë‹¤. Comparatorì„ ê¹Œë³´ë©´(?) compare ë§Œ abstract methodê³  ë‹¤ë¥¸ ë©”ì†Œë“œë“¤ì€ defaultë‚˜ staticì´ë‹¤. equal ë„ abstractì¸ë° Object class methodë“¤ì€ ìƒê´€ì—†ë‹¤ê³  í•œë‹¤ğŸ˜œ

``` java
// It can contain any number of Object class methods.  
  int hashCode();  
  String toString();  
  boolean equals(Object obj);
```

#### Default Methods
java8ì´ ë“¤ì–´ì˜¤ë©´ì„œ ì¸í„°í˜ì´ìŠ¤ì— ë³€í™”ê°€ ìƒê¸´ ê²ƒ ì¤‘ì— í•˜ë‚˜ì´ë‹¤. default ë©”ì†Œë“œë¥¼ ì‚¬ìš©í•´ì„œ êµ¬í˜„ì²´ë¥¼ ì¸í„°í˜ì´ìŠ¤ì— ë§Œë“¤ ìˆ˜ ìˆë‹¤ëŠ” ì‚¬ì‹¤!
defaultì™€ static ë©”ì†Œë“œë¥¼ í†µí•´ ì¸í„°í˜ì´ìŠ¤ì—ë„ êµ¬í˜„ì²´ë¥¼ ë§Œë“¤ ìˆ˜ ìˆê²Œ ë¨ìœ¼ë¡œì¨ ì¸í„°í˜ì´ìŠ¤ë¥¼ í™œìš©í•˜ê¸° ìš©ì´í•´ì¡Œë‹¤.

``` java
public interface FInterface {

    int getInt();
    void printAbstractMethod();

    default void printValue() {
        // do something
    }

    static void printValue2() {
        // do something
    }
}
```

â—ï¸java8ì—ì„œ ì¸í„°í˜ì´ìŠ¤ì™€ ì¶”ìƒí´ë˜ìŠ¤ì˜ ì°¨ì´?
- ì¶”ìƒí´ë˜ìŠ¤ì™€ ì¸í„°í˜ì´ìŠ¤ëŠ” ì¸ìŠ¤í„´ìŠ¤í™” í•˜ëŠ” ê²ƒì€ ë¶ˆê°€ëŠ¥í•˜ë©°, êµ¬í˜„ë¶€ê°€ ìˆëŠ” ë©”ì†Œë“œì™€ ì—†ëŠ” ë©”ì†Œë“œ ëª¨ë‘ ê°€ì§ˆ ìˆ˜ ìˆë‹¤ëŠ” ì ì—ì„œ ìœ ì‚¬í•˜ë‹¤.
- ì¸í„°í˜ì´ìŠ¤ì—ì„œ ëª¨ë“  ë³€ìˆ˜ëŠ” ê¸°ë³¸ì ìœ¼ë¡œ public static final ì´ë©°, ëª¨ë“  ë©”ì†Œë“œëŠ” public abstract ì¸ ë°˜ë©´ ì¶”ìƒí´ë˜ìŠ¤ì—ì„œëŠ” static ì´ë‚˜ final ì´ ì•„ë‹Œ í•„ë“œë¥¼ ì§€ì •í•  ìˆ˜ ìˆê³ , public, protected, private ë©”ì†Œë“œë¥¼ ê°€ì§ˆ ìˆ˜ ìˆë‹¤.
- ì¸í„°í˜ì´ìŠ¤ë¥¼ êµ¬í˜„í•˜ëŠ” ì–´ë–¤ í´ë˜ìŠ¤ëŠ”, ë‹¤ë¥¸ ì—¬ëŸ¬ê°œì˜ ì¸í„°í˜ì´ìŠ¤ë“¤ì„ í•¨ê»˜ êµ¬í˜„í•  ìˆ˜ ìˆë‹¤. ì¶”ìƒí´ë˜ìŠ¤ëŠ” ìƒì†ì„ í†µí•´ êµ¬í˜„ë˜ëŠ”ë°, ìë°”ì—ì„œëŠ” ë‹¤ì¤‘ìƒì†ì„ ì§€ì›í•˜ì§€ ì•Šìœ¼ë¯€ë¡œ ì¶”ìƒí´ë˜ìŠ¤ë¥¼ ìƒì†ë°›ì€ ì„œë¸Œí´ë˜ìŠ¤ëŠ” ë‹¤ë¥¸ í´ë˜ìŠ¤ë¥¼ ìƒì†ë°›ì„ ìˆ˜ ì—†ë‹¤.

[ì¶œì²˜](https://yaboong.github.io/java/2018/09/25/interface-vs-abstract-in-java8/)
>Java provides a facility to create default methods inside the interface. Methods which are defined inside the interface and tagged with default keyword are known as default methods. These methods are non-abstract methods and can have method body.


### Date/Time API
java8 ì´ì „ì— Date apiê°€ ë¬¸ì œì ì´ ë§ë‹¤ê³  ë“¤ì—ˆë‹¤. immutable í•´ì•¼í•˜ëŠ”ë° ìˆ˜ì •í•  ìˆ˜ ìˆê³  ë§‰... ê·¸ë¬ì–´ì„œ ì´ë²ˆì— java8ì—ì„œ ë§ì´ ê°œí¸ëë‹¤ê³  ë“¤ìŒ!
LocalDate, LocalTimeê³¼ ê°™ì€ apiê°€ ì¶”ê°€ëœ ê²ƒ ê°™ì€ë° ì˜ ì“°ëŠ” ì¤‘ì´ë‹¤.

>Java has introduced a new Date and Time API since Java 8. The java.time package contains Java 8 Date and Time classes.



### Stream API
Streamì€ ì»¬ë ‰ì…˜, ë°°ì—´ë“±ì˜ ì €ì¥ ìš”ì†Œë¥¼ í•˜ë‚˜ì”© ì°¸ì¡°í•˜ë©° í•¨ìˆ˜í˜• ì¸í„°í˜ì´ìŠ¤(ëŒë‹¤ì‹)ë¥¼ ì ìš©í•˜ë©° ë°˜ë³µì ìœ¼ë¡œ ì²˜ë¦¬í•  ìˆ˜ ìˆë„ë¡ í•´ì£¼ëŠ” ê¸°ëŠ¥ì´ë‹¤.
ìŠ¤íŠ¸ë¦¼ì€
- ì¬ì‚¬ìš©í•  ìˆ˜ ì—†ê³ 
- ì§€ì—°ì²˜ë¦¬(lazy invocation)ë˜ë©°
- ParallelStreamì€ ì—¬ëŸ¬ ìŠ¤ë ˆë“œê°€ ì‘ì—…
>Java 8 java.util.stream package consists of classes, interfaces and an enum to allow functional-style operations on the elements. It performs lazy computation. So, it executes only when it requires.


â—ï¸ìŠ¤íŠ¸ë¦¼ì€ ì¼ë°˜ì ìœ¼ë¡œ collectionê³¼ ë¹„êµê°€ ë˜ëŠ” ê²ƒ ê°™ë‹¤. ë­ê°€ ë‹¤ë¥¼ê¹Œ?

A collection is an in-memory data structure, which holds all the values that the data structure currently hasâ€”every element in the collection has to be computed before it can be added to the collection. In contrast, a stream is a conceptually fixed data structure in which elements are computed on demand.

[java8 docs](https://docs.oracle.com/javase/8/docs/api/java/util/stream/package-summary.html#package.description)
Streams differ from collections in several ways:

- No storage. ìŠ¤íŠ¸ë¦¼ì€ ìš”ì†Œë¥¼ ì €ì¥í•˜ëŠ” ë°ì´í„° êµ¬ì¡°ê°€ ì•„ë‹ˆë‹¤. ì†ŒìŠ¤ì—ì„œ ìš”ì†Œë“¤ì„ **ë‚˜ë¥´ëŠ”** ê²ƒì´ë¼ê³  ì„¤ëª…í•˜ê³  ìˆë‹¤.
  > A stream is not a data structure that stores elements; instead, it conveys elements from a source such as a data structure, an array, a generator function, or an I/O channel, through a pipeline of computational operations.

- Functional in nature. íƒœìƒì´ í•¨ìˆ˜í˜•ì´ë¼ëŠ” ê²ƒì´ë‹¤. ìŠ¤íŠ¸ë¦¼ì˜ ì˜¤í¼ë ˆì´ì…˜ì€ ê²°ê³¼ê°’ì„ ìƒì„±í•˜ëŠ” ê²ƒì´ì§€ ì†ŒìŠ¤ë¥¼ ìˆ˜ì •í•˜ëŠ” ë°ì— ìˆì§€ ì•Šë‹¤.
  >An operation on a stream produces a result, but does not modify its source. For example, filtering a Stream obtained from a collection produces a new Stream without the filtered elements, rather than removing elements from the source collection.

- Laziness-seeking. ì§€ì—°ì²˜ë¦¬ëœë‹¤. ìŠ¤íŠ¸ë¦¼ ì˜¤í¼ë ˆì´ì…˜ì€ ëŒ€ë¶€ë¶„ lazilyí•˜ê²Œ êµ¬í˜„ë˜ì–´ ìˆë‹¤. ìµœì¢…ì—°ì‚°ì„ í•  ë•Œ ì¤‘ê°„ì—°ì‚°ì´ ê°™ì´ ëœë‹¤.
  >Many stream operations, such as filtering, mapping, or duplicate removal, can be implemented lazily, exposing opportunities for optimization. For example, "find the first String with three consecutive vowels" need not examine all the input strings. Stream operations are divided into intermediate (Stream-producing) operations and terminal (value- or side-effect-producing) operations. Intermediate operations are always lazy.

- Possibly unbounded. ê°€ëŠ¥í•˜ë©´ ê±°ì˜ ë¬´í•œí•˜ë‹¤(?) ì½œë ‰ì…˜ì€ ì œí•œëœ ì‚¬ì´ì¦ˆë¥¼ ê°€ì§€ì§€ë§Œ ìŠ¤íŠ¸ë¦¼ì€ ê·¸ë ‡ì§€ ì•Šë‹¤. short-circuiting ì—°ì‚°ì„ ì‚¬ìš©í•˜ë©´ ë¬´í•œí•œ ìì›ì— ëŒ€í•œ ì—°ì‚°ì„ ìœ í•œí•œ ì‹œê°„ ë‚´ì— ì™„ë£Œí•  ìˆ˜ ìˆë‹¤.
  >While collections have a finite size, streams need not. Short-circuiting operations such as limit(n) or findFirst() can allow computations on infinite streams to complete in finite time.

- Consumable. ì†Œëª¨ëœë‹¤. ìŠ¤íŠ¸ë¦¼ì˜ í•œ ì‚¬ì´í´ë™ì•ˆì— ìš”ì†ŒëŠ” í•œë²ˆë§Œ ë°©ë¬¸ëœë‹¤. ì†ŒìŠ¤ì˜ ê°™ì€ ìš”ì†Œì— ì ‘ê·¼í•˜ê³  ì‹¶ìœ¼ë©´ ìƒˆë¡œìš´ ìŠ¤íŠ¸ë¦¼ ìƒì„±ì´ í•„ìˆ˜ì´ë‹¤.
  > The elements of a stream are only visited once during the life of a stream. Like an Iterator, a new stream must be generated to revisit the same elements of the source.




### ê·¸ ì™¸
ê·¸ ì™¸ì— ë” ë§ì€ featureë“¤ì´ ë§ì§€ë§Œ ë‚´ê°€ ì‚¬ìš©í•˜ëŠ” ì •ë„ì˜ ë²”ìœ„ì—ì„œ ì •ë¦¬í–ˆë‹¤.

#### ì°¸ê³ 
- https://www.javatpoint.com/java-8-features
